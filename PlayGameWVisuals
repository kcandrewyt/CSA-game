import java.util.Scanner;
import java.util.ArrayList;
import java.awt.Font;
import java.lang.Math;

public class PlayGame{
  
  public static void main(String[] args){
    
    int playerUnit = 0;
    int turn = 0;
    ArrayList<GamePlayer> players = new ArrayList<GamePlayer>();
    boolean gameOver = false;
    
    Scanner scan= new Scanner(System.in);
    
    //figures out how many people are playing
    System.out.println("How many people are playing?");
    int numberOfPlayers = scan.nextInt();
    scan.nextLine();
    
    //creates the players and places them in ArrayList
    for(int i = 0; i < numberOfPlayers; i++){
      
      playerUnit++;
      System.out.println("What is the name of player " + playerUnit + "?");
      String n = scan.nextLine();
      
      players.add(new GamePlayer(n));
      
    }
    
    //checks to see if game is over
    while(!gameOver){
      
      StdDraw.picture(.5, .5, "snakesnladders.png", 1, 1); //draws the board
      System.out.println(StdDraw.mouseX() + " " + StdDraw.mouseY());
      turn++;
      System.out.println("\nTurn " + turn + ":\n");
      
      //cycles through players
      for(GamePlayer p: players){
        String currentPlayer = p.getName();
        //makes sure one of the previous players of the turn hasn't won already
        if(!gameOver){
          System.out.println(p.getName() + " moves " + p.move() + " spaces.");
          
          //checks to see if the player has hit a slide or ladder
          if(p.ladder()){
            p.changePosition(3);
            System.out.println(p.getName() + " has found a ladder! They move up three spaces!");
          }
          else if(p.slide()){
            p.changePosition(-2);
            System.out.println(p.getName() + " has hit a snake! They move back two spaces.");
          }
          else{
            
          }
        }
        
        System.out.println();
        
        //checks to see if someone has won
        if(p.getPosition() >= 20){
          System.out.println(p.getName() + " wins!");
          Font font = new Font("Arial", Font.BOLD, 60);
          StdDraw.setFont(font);
          StdDraw.filledRectangle(.5, .5, 1, .15);
          StdDraw.setPenColor(StdDraw.WHITE);
          StdDraw.text(.5, .5, "" + p.getName() + " wins!");
          gameOver = true;
        }
      }
      if(!gameOver){
        System.out.println("Press enter to continue");
        String holder = scan.nextLine();
      }
    }
  }
}
